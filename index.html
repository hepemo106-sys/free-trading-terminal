<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Free Trading Terminal – Acciones USA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      background: #0b0e11;
      color: #eaecef;
      font-family: monospace;
    }
    header {
      padding: 10px;
      background: #161a1e;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    input, button {
      background: #0b0e11;
      color: #eaecef;
      border: 1px solid #2b3139;
      padding: 6px;
    }
    button {
      cursor: pointer;
    }
    .grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      height: calc(100vh - 50px);
    }
    .panel {
      border: 1px solid #2b3139;
      padding: 5px;
      overflow: hidden;
    }
    h3 {
      margin: 5px 0;
    }
  </style>
</head>
<body>

<header>
  <strong>FREE TRADING TERMINAL</strong>
  <input id="symbol" placeholder="AAPL" />
  <button onclick="loadSymbol()">Cargar</button>
</header>

<div class="grid">

  <!-- GRÁFICO PRINCIPAL (ÚNICO) -->
  <div class="panel" id="chart"></div>

  <!-- MARKET OVERVIEW (ESTABLE) -->
  <div class="panel">
    <h3>Market Overview (USA)</h3>
    <iframe
      src="https://www.tradingview.com/widgetembed/?widgetType=market_overview&theme=dark&symbols=%5B%7B%22s%22%3A%22SP%3ASPX%22%7D%2C%7B%22s%22%3A%22NASDAQ%3ANDAQ%22%7D%2C%7B%22s%22%3A%22DJ%3ADJI%22%7D%5D"
      style="width:100%;height:100%;border:none;">
    </iframe>
  </div>

</div>

<script>
function loadSymbol(symbolFromClick) {
  const s = symbolFromClick
    ? symbolFromClick
    : document.getElementById("symbol").value.toUpperCase() || "AAPL";

  document.getElementById("symbol").value = s;

  document.getElementById("chart").innerHTML = `
    <iframe
      src="https://www.tradingview.com/widgetembed/?symbol=${s}&interval=D&theme=dark&style=1"
      style="width:100%;height:100%;border:none;">
    </iframe>
  `;
}

// Carga inicial
loadSymbol("AAPL");
</script>

</body>
</html>
